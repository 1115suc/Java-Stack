# SpringCloud基础

## 微服务

### 单体架构

所有功能都在一个应用中，打成一个包部署

- 优点：
  - 简单、方便
- 缺点：
  - 代码耦合度高
  - 维护和升级困难

![image-20210713202807818](assets/image-20210713202807818.png)

### 分布式架构

根据业务功能对系统做拆分，每个业务功能模块作为独立项目开发，称为一个服务。

- 优点：
  - 代码解耦
  - 每个服务都可以独立部署、维护、升级，有利于服务升级和拓展
- 缺点：
  - 服务调用关系错综复杂
  - 服务之间的通信成本高

![image-20210713203124797](assets/image-20210713203124797.png)


### 微服务架构

微服务的架构特征：

- 单一职责：微服务拆分粒度更小，每一个服务都对应唯一的业务能力，做到单一职责
- 自治：团队独立、技术独立、数据独立，独立部署和交付
- 面向服务：服务提供统一标准的接口，与语言和技术无关
- 隔离性强：服务调用做好隔离、容错、降级，避免出现级联问题

![image-20210713203753373](assets/image-20210713203753373.png)

### SpringCloud

![image-20210713204155887](assets/image-20210713204155887.png)

### 总结

- 单体架构：简单方便，高度耦合，扩展性差，适合小型项目。例如：学生管理系统

- 分布式架构：松耦合，扩展性好，但架构复杂，难度大。适合大型互联网项目，例如：京东、淘宝

- 微服务：一种良好的分布式架构方案

  ①优点：拆分粒度更小、服务更独立、耦合度更低

  ②缺点：架构非常复杂，运维、监控、部署难度提高

- SpringCloud是微服务架构的一站式解决方案，集成了各种优秀微服务功能组件

## 服务拆分和远程调用

### 服务拆分原则

- 不同微服务，不要重复开发相同业务
- 微服务数据独立，不要访问其它微服务的数据库
- 微服务可以将自己的业务暴露为接口，供其它微服务调用

![image-20210713210800950](assets/image-20210713210800950.png)

- 实例

![image-20210713211009593](assets/image-20210713211009593.png)

## Nacos 注册中心

### 服务注册到 Nacos

Nacos 是SpringCloudAlibaba的组件，而SpringCloudAlibaba也遵循SpringCloud中定义的服务注册、服务发现规范。
因此使用Nacos和使用Eureka对于微服务来说，并没有太大区别。
主要差异在于：

- 依赖不同
- 服务地址不同















